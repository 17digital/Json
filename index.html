<!DOCTYPE html>
<html>

<title>GT Poll a Site</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

<style>
	th {
		color: #f9f;
	}

</style>
</head>

<body>

<!-- https://yts.mx/api -->

<table class="table table-striped">
	<tr class="bg-info">
		<th>Title</th>
		<th>URL</th>
		<th>Year</th>
		<th>Rating</th>
		<th>Image</th>
	</tr>
	
	<tbody id="myTable">
	
	</tbody>
</table>

<script>
	var myArray = []
	
	<!-- buildTable(myArray) -->
	
	$.ajax({
		method:'GET',
		url:'https://yts.mx/api/v2/list_movies.json?sort_by=year&limit=50&page=1',
		success:function(response){
			myArray = response.data.movies
			buildTable(myArray)
			console.log(myArray)
		}
	})
	
	function buildTable(data){
		var table = document.getElementById('myTable')
		
		for (var i =0; i< data.length; i++){
			var row = `<tr>
							<td>${data[i].title}</td>
							<td>${data[i].url}</td>
							<td>${data[i].year}</td>
							<td>${data[i].rating}</td>
							<td>${data[i].small_cover_image}</td>
						</tr>`
			table.innerHTML += row
		}
	
	}
</script>	

</body>
</html>

